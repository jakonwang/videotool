# Nginx 配置示例
# 如果使用 Nginx，请在你的站点配置文件中添加以下配置

server {
    listen 80;
    server_name your-domain.com;
    root /path/to/videotool/public;
    index index.php;
    
    # ⚠️ 重要：设置上传大小限制（解决 413 错误）
    # 这个配置必须在 server 块内
    client_max_body_size 100M;
    
    # 如果使用 HTTPS，也需要在对应的 server 块中添加
    # listen 443 ssl;
    # client_max_body_size 100M;
    
    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }
    
    location ~ \.php$ {
        fastcgi_pass 127.0.0.1:9000;
        # 或者使用 unix socket: fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
        
        # 也可以在这里设置上传大小（但推荐在 server 块设置）
        # client_max_body_size 100M;
    }
    
    # 禁止访问敏感目录
    location ~* (runtime|application)/ {
        return 403;
    }
}

# phpstudy 用户：
# 1. 打开 phpstudy 控制面板
# 2. 点击"网站" → 找到你的站点 → "管理" → "配置文件"
# 3. 在 server {} 块中添加：client_max_body_size 100M;
# 4. 保存并重启 Nginx

